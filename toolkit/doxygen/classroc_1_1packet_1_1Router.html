<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Roc Toolkit internal modules: roc::packet::Router Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- <script src="/analytics.js"></script> -->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon80.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Roc Toolkit internal modules
   </div>
   <div id="projectbrief">Roc Toolkit: real-time audio streaming</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classroc_1_1packet_1_1Router.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classroc_1_1packet_1_1Router-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">roc::packet::Router Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Route packets to packet writers.  
 <a href="classroc_1_1packet_1_1Router.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="router_8h_source.html">router.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for roc::packet::Router:</div>
<div class="dyncontent">
<div class="center"><img src="classroc_1_1packet_1_1Router__inherit__graph.png" border="0" usemap="#aroc_1_1packet_1_1Router_inherit__map" alt="Inheritance graph"/></div>
<map name="aroc_1_1packet_1_1Router_inherit__map" id="aroc_1_1packet_1_1Router_inherit__map">
<area shape="rect" title="Route packets to packet writers." alt="" coords="107,80,251,107"/>
<area shape="rect" href="classroc_1_1packet_1_1IWriter.html" title="Packet writer interface." alt="" coords="5,5,151,32"/>
<area shape="rect" href="classroc_1_1core_1_1NonCopyable.html" title="Base class for non&#45;copyable objects." alt="" coords="175,5,386,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for roc::packet::Router:</div>
<div class="dyncontent">
<div class="center"><img src="classroc_1_1packet_1_1Router__coll__graph.png" border="0" usemap="#aroc_1_1packet_1_1Router_coll__map" alt="Collaboration graph"/></div>
<map name="aroc_1_1packet_1_1Router_coll__map" id="aroc_1_1packet_1_1Router_coll__map">
<area shape="rect" title="Route packets to packet writers." alt="" coords="107,80,251,107"/>
<area shape="rect" href="classroc_1_1packet_1_1IWriter.html" title="Packet writer interface." alt="" coords="5,5,151,32"/>
<area shape="rect" href="classroc_1_1core_1_1NonCopyable.html" title="Base class for non&#45;copyable objects." alt="" coords="175,5,386,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1572825fc6999d9feee0c3ff810481c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1packet_1_1Router.html#a1572825fc6999d9feee0c3ff810481c4">Router</a> (<a class="el" href="classroc_1_1core_1_1IArena.html">core::IArena</a> &amp;arena)</td></tr>
<tr class="memdesc:a1572825fc6999d9feee0c3ff810481c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize.  <a href="classroc_1_1packet_1_1Router.html#a1572825fc6999d9feee0c3ff810481c4">More...</a><br /></td></tr>
<tr class="separator:a1572825fc6999d9feee0c3ff810481c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd1b19953c72b94eb813ae3e7bd53af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1packet_1_1Router.html#a9bd1b19953c72b94eb813ae3e7bd53af">add_route</a> (<a class="el" href="classroc_1_1packet_1_1IWriter.html">IWriter</a> &amp;writer, unsigned flags)</td></tr>
<tr class="memdesc:a9bd1b19953c72b94eb813ae3e7bd53af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add route.  <a href="classroc_1_1packet_1_1Router.html#a9bd1b19953c72b94eb813ae3e7bd53af">More...</a><br /></td></tr>
<tr class="separator:a9bd1b19953c72b94eb813ae3e7bd53af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f114730ed4469a38c785738cabad257"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1packet_1_1Router.html#a9f114730ed4469a38c785738cabad257">has_source_id</a> (unsigned flags)</td></tr>
<tr class="memdesc:a9f114730ed4469a38c785738cabad257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is detected source id for given route.  <a href="classroc_1_1packet_1_1Router.html#a9f114730ed4469a38c785738cabad257">More...</a><br /></td></tr>
<tr class="separator:a9f114730ed4469a38c785738cabad257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5afa950f694c1850c17c5a6901d69fd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">stream_source_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1packet_1_1Router.html#a5afa950f694c1850c17c5a6901d69fd7">get_source_id</a> (unsigned flags)</td></tr>
<tr class="memdesc:a5afa950f694c1850c17c5a6901d69fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get detected source id for given route.  <a href="classroc_1_1packet_1_1Router.html#a5afa950f694c1850c17c5a6901d69fd7">More...</a><br /></td></tr>
<tr class="separator:a5afa950f694c1850c17c5a6901d69fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49de0667ee59a22061b9ebc0cd856c9a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1packet_1_1Router.html#a49de0667ee59a22061b9ebc0cd856c9a">write</a> (const <a class="el" href="namespaceroc_1_1packet.html#a66fa2986c1f4b85705754879bb4d38cc">PacketPtr</a> &amp;packet)</td></tr>
<tr class="memdesc:a49de0667ee59a22061b9ebc0cd856c9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write next packet.  <a href="classroc_1_1packet_1_1Router.html#a49de0667ee59a22061b9ebc0cd856c9a">More...</a><br /></td></tr>
<tr class="separator:a49de0667ee59a22061b9ebc0cd856c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Route packets to packet writers. </p>
<p>To create a route, user provides packet writer and packet flags. Packets that include specified flags will be routed to given writer.</p>
<p>When the very first packet is routed to a writer, router remembers which source id (SSRC) that packet has, or that the packet doesn't have any source id. Then router ensures that only packets with that source id are passed to same writer.</p>
<p>The user can query which source id were detected for which routes. </p>

<p class="definition">Definition at line <a class="el" href="router_8h_source.html#l00038">38</a> of file <a class="el" href="router_8h_source.html">router.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1572825fc6999d9feee0c3ff810481c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1572825fc6999d9feee0c3ff810481c4">&#9670;&nbsp;</a></span>Router()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">roc::packet::Router::Router </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classroc_1_1core_1_1IArena.html">core::IArena</a> &amp;&#160;</td>
          <td class="paramname"><em>arena</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9bd1b19953c72b94eb813ae3e7bd53af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd1b19953c72b94eb813ae3e7bd53af">&#9670;&nbsp;</a></span>add_route()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> bool roc::packet::Router::add_route </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classroc_1_1packet_1_1IWriter.html">IWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add route. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Packets that has given <code>flags</code> set will be routed to <code>writer</code>. </dd></dl>

</div>
</div>
<a id="a5afa950f694c1850c17c5a6901d69fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5afa950f694c1850c17c5a6901d69fd7">&#9670;&nbsp;</a></span>get_source_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">stream_source_t</a> roc::packet::Router::get_source_id </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get detected source id for given route. </p>
<dl class="section remark"><dt>Remarks</dt><dd>If <a class="el" href="classroc_1_1packet_1_1Router.html#a9f114730ed4469a38c785738cabad257" title="Check if there is detected source id for given route.">has_source_id()</a> returns true, this method returns source id for the route. </dd></dl>

</div>
</div>
<a id="a9f114730ed4469a38c785738cabad257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f114730ed4469a38c785738cabad257">&#9670;&nbsp;</a></span>has_source_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool roc::packet::Router::has_source_id </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there is detected source id for given route. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Returns true if there is route for given flags, and packets were already written to that route, and those packets have source id. </dd></dl>

</div>
</div>
<a id="a49de0667ee59a22061b9ebc0cd856c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49de0667ee59a22061b9ebc0cd856c9a">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a> roc::packet::Router::write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceroc_1_1packet.html#a66fa2986c1f4b85705754879bb4d38cc">PacketPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write next packet. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Route <code>packet</code> to a writer or drop it if no routes found. </dd></dl>

<p>Implements <a class="el" href="classroc_1_1packet_1_1IWriter.html#a5543b8631a5a74f07b44043d1e33630e">roc::packet::IWriter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>roc_packet/<a class="el" href="router_8h_source.html">router.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceroc.html">roc</a></li><li class="navelem"><a class="el" href="namespaceroc_1_1packet.html">packet</a></li><li class="navelem"><a class="el" href="classroc_1_1packet_1_1Router.html">Router</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
