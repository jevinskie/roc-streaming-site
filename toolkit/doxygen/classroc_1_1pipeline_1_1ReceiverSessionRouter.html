<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Roc Toolkit internal modules: roc::pipeline::ReceiverSessionRouter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- <script src="/analytics.js"></script> -->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon80.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Roc Toolkit internal modules
   </div>
   <div id="projectbrief">Roc Toolkit: real-time audio streaming</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classroc_1_1pipeline_1_1ReceiverSessionRouter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classroc_1_1pipeline_1_1ReceiverSessionRouter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">roc::pipeline::ReceiverSessionRouter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Receiver session router.  
 <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="receiver__session__router_8h_source.html">receiver_session_router.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for roc::pipeline::ReceiverSessionRouter:</div>
<div class="dyncontent">
<div class="center"><img src="classroc_1_1pipeline_1_1ReceiverSessionRouter__inherit__graph.png" border="0" usemap="#aroc_1_1pipeline_1_1ReceiverSessionRouter_inherit__map" alt="Inheritance graph"/></div>
<map name="aroc_1_1pipeline_1_1ReceiverSessionRouter_inherit__map" id="aroc_1_1pipeline_1_1ReceiverSessionRouter_inherit__map">
<area shape="rect" title="Receiver session router." alt="" coords="5,80,223,121"/>
<area shape="rect" href="classroc_1_1core_1_1NonCopyable.html" title="Base class for non&#45;copyable objects." alt="" coords="9,5,219,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for roc::pipeline::ReceiverSessionRouter:</div>
<div class="dyncontent">
<div class="center"><img src="classroc_1_1pipeline_1_1ReceiverSessionRouter__coll__graph.png" border="0" usemap="#aroc_1_1pipeline_1_1ReceiverSessionRouter_coll__map" alt="Collaboration graph"/></div>
<map name="aroc_1_1pipeline_1_1ReceiverSessionRouter_coll__map" id="aroc_1_1pipeline_1_1ReceiverSessionRouter_coll__map">
<area shape="rect" title="Receiver session router." alt="" coords="5,80,223,121"/>
<area shape="rect" href="classroc_1_1core_1_1NonCopyable.html" title="Base class for non&#45;copyable objects." alt="" coords="9,5,219,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af42e0701bb629b2bc5a3013109ce20d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#af42e0701bb629b2bc5a3013109ce20d1">ReceiverSessionRouter</a> (<a class="el" href="classroc_1_1core_1_1IArena.html">core::IArena</a> &amp;arena)</td></tr>
<tr class="memdesc:af42e0701bb629b2bc5a3013109ce20d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#af42e0701bb629b2bc5a3013109ce20d1">More...</a><br /></td></tr>
<tr class="separator:af42e0701bb629b2bc5a3013109ce20d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca4bb87f5a5a89c33653a41493fb7512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aca4bb87f5a5a89c33653a41493fb7512">~ReceiverSessionRouter</a> ()</td></tr>
<tr class="memdesc:aca4bb87f5a5a89c33653a41493fb7512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aca4bb87f5a5a89c33653a41493fb7512">More...</a><br /></td></tr>
<tr class="separator:aca4bb87f5a5a89c33653a41493fb7512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f5b8327458e57d3f4f936e14f3faa"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a951f5b8327458e57d3f4f936e14f3faa">num_routes</a> ()</td></tr>
<tr class="memdesc:a951f5b8327458e57d3f4f936e14f3faa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of know routes.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a951f5b8327458e57d3f4f936e14f3faa">More...</a><br /></td></tr>
<tr class="separator:a951f5b8327458e57d3f4f936e14f3faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebef44b8f1de99a25dccc308c61d2192"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aebef44b8f1de99a25dccc308c61d2192">find_by_source</a> (<a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a> source_id)</td></tr>
<tr class="memdesc:aebef44b8f1de99a25dccc308c61d2192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find registered session by source id of sender's stream.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aebef44b8f1de99a25dccc308c61d2192">More...</a><br /></td></tr>
<tr class="separator:aebef44b8f1de99a25dccc308c61d2192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aef1555fedcc24b81ea6fc92b3c522f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a9aef1555fedcc24b81ea6fc92b3c522f">find_by_address</a> (const <a class="el" href="classroc_1_1address_1_1SocketAddr.html">address::SocketAddr</a> &amp;source_addr)</td></tr>
<tr class="memdesc:a9aef1555fedcc24b81ea6fc92b3c522f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find registered session by source address of sender's stream.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a9aef1555fedcc24b81ea6fc92b3c522f">More...</a><br /></td></tr>
<tr class="separator:a9aef1555fedcc24b81ea6fc92b3c522f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa673ce3820e7e6de76bb88b324b49158"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aa673ce3820e7e6de76bb88b324b49158">has_session</a> (const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;session)</td></tr>
<tr class="memdesc:aa673ce3820e7e6de76bb88b324b49158"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is a route for given session.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#aa673ce3820e7e6de76bb88b324b49158">More...</a><br /></td></tr>
<tr class="separator:aa673ce3820e7e6de76bb88b324b49158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d35698d367858e85e2e4e4529a1a2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a57d35698d367858e85e2e4e4529a1a2e">add_session</a> (const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;session, <a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a> source_id, const <a class="el" href="classroc_1_1address_1_1SocketAddr.html">address::SocketAddr</a> &amp;source_addr)</td></tr>
<tr class="memdesc:a57d35698d367858e85e2e4e4529a1a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register session in router.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a57d35698d367858e85e2e4e4529a1a2e">More...</a><br /></td></tr>
<tr class="separator:a57d35698d367858e85e2e4e4529a1a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc7feb332f623c120da24b3c98323e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a9dc7feb332f623c120da24b3c98323e0">remove_session</a> (const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;session)</td></tr>
<tr class="memdesc:a9dc7feb332f623c120da24b3c98323e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister session from router.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a9dc7feb332f623c120da24b3c98323e0">More...</a><br /></td></tr>
<tr class="separator:a9dc7feb332f623c120da24b3c98323e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a12a975bf01d32f4dac6337a1654de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a73a12a975bf01d32f4dac6337a1654de">link_source</a> (<a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a> source_id, const char *cname)</td></tr>
<tr class="memdesc:a73a12a975bf01d32f4dac6337a1654de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link source id with unique CNAME.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a73a12a975bf01d32f4dac6337a1654de">More...</a><br /></td></tr>
<tr class="separator:a73a12a975bf01d32f4dac6337a1654de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211602bb89ef98ac607c0c5db44ba2a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a211602bb89ef98ac607c0c5db44ba2a9">unlink_source</a> (<a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a> source_id)</td></tr>
<tr class="memdesc:a211602bb89ef98ac607c0c5db44ba2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlink source id from session.  <a href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a211602bb89ef98ac607c0c5db44ba2a9">More...</a><br /></td></tr>
<tr class="separator:a211602bb89ef98ac607c0c5db44ba2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Receiver session router. </p>
<p>Helps routing packets to sessions within session group.</p>
<p>Session group corresponds to all sessions handled by one receiver slot - a set of related complementary endpoints, e.g. one endpoint for audio, one for repair, and one for control packets.</p>
<p>For each remote sender, receiver creates a session inside session group. All audio, repair, and control packets from same sender are then routed to same session.</p>
<p>Session management is implemented in <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionGroup.html" title="Receiver session group.">ReceiverSessionGroup</a>, and algorithm for selecting session for a packet is implemented in <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html" title="Receiver session router.">ReceiverSessionRouter</a> (this class).</p>
<p>Session router provides two methods to select session:</p>
<ul>
<li><p class="startli">By source id.</p>
<p class="startli">Sender can assign unique source id (SSRC) to each stream (audio, repair), and then transmit RTCP SDES packet that associate all sender's SSRCs with the same unique (randomly generated) CNAME string.</p>
<p class="startli">Session router will remember that these SSRCs are related and will route packets from those streams to same session.</p>
</li>
<li><p class="startli">By source address.</p>
<p class="startli">As a fallback for the case when RTCP is not used, session router will assume that packets with same source address belong to the same session.</p>
<p class="startli">To make it work, sender should ensure that it sends all streams (audio, repair) from the same socket, and that there are no proxies or retranslators that combine multiple senders on the same socket. </p>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="receiver__session__router_8h_source.html#l00067">67</a> of file <a class="el" href="receiver__session__router_8h_source.html">receiver_session_router.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af42e0701bb629b2bc5a3013109ce20d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af42e0701bb629b2bc5a3013109ce20d1">&#9670;&nbsp;</a></span>ReceiverSessionRouter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">roc::pipeline::ReceiverSessionRouter::ReceiverSessionRouter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classroc_1_1core_1_1IArena.html">core::IArena</a> &amp;&#160;</td>
          <td class="paramname"><em>arena</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize. </p>

</div>
</div>
<a id="aca4bb87f5a5a89c33653a41493fb7512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca4bb87f5a5a89c33653a41493fb7512">&#9670;&nbsp;</a></span>~ReceiverSessionRouter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">roc::pipeline::ReceiverSessionRouter::~ReceiverSessionRouter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a57d35698d367858e85e2e4e4529a1a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d35698d367858e85e2e4e4529a1a2e">&#9670;&nbsp;</a></span>add_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a> roc::pipeline::ReceiverSessionRouter::add_session </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a>&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classroc_1_1address_1_1SocketAddr.html">address::SocketAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>source_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register session in router. </p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li><code>session</code> defines session where to route packets.</li>
<li><code>source_id</code> defines SSRC of stream which will be routed to the session. Additional streams may be associated with same session via <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a73a12a975bf01d32f4dac6337a1654de" title="Link source id with unique CNAME.">link_source()</a> call.</li>
<li><code>source_addr</code> defines source address which will be routed to the session. If other streams share the same source address, they will be routed to it. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a9aef1555fedcc24b81ea6fc92b3c522f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aef1555fedcc24b81ea6fc92b3c522f">&#9670;&nbsp;</a></span>find_by_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt;<a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a>&gt; roc::pipeline::ReceiverSessionRouter::find_by_address </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classroc_1_1address_1_1SocketAddr.html">address::SocketAddr</a> &amp;&#160;</td>
          <td class="paramname"><em>source_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find registered session by source address of sender's stream. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Sender can use one source address for all its streams. Session router will remember this address and map it to sender's session. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To make it work, sender's source address should be provided to <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a57d35698d367858e85e2e4e4529a1a2e" title="Register session in router.">add_session()</a>, and all sender's streams should have the same source address. </dd></dl>

</div>
</div>
<a id="aebef44b8f1de99a25dccc308c61d2192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebef44b8f1de99a25dccc308c61d2192">&#9670;&nbsp;</a></span>find_by_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt;<a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a>&gt; roc::pipeline::ReceiverSessionRouter::find_by_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a>&#160;</td>
          <td class="paramname"><em>source_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find registered session by source id of sender's stream. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Sender can have multiple streams, each with its own SSRC. Session router will remember all those SSRCs and map them to sender's session. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>To make it work, one of the SSRCs should be explicitly mapped to a session using <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a57d35698d367858e85e2e4e4529a1a2e" title="Register session in router.">add_session()</a>, and the rest of SSRCs should be linked together using <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a73a12a975bf01d32f4dac6337a1654de" title="Link source id with unique CNAME.">link_source()</a> with same CNAME. The order of these calls does not matter. </dd></dl>

</div>
</div>
<a id="aa673ce3820e7e6de76bb88b324b49158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa673ce3820e7e6de76bb88b324b49158">&#9670;&nbsp;</a></span>has_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool roc::pipeline::ReceiverSessionRouter::has_session </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if there is a route for given session. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Will return false after session was removed via <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a9dc7feb332f623c120da24b3c98323e0" title="Unregister session from router.">remove_session()</a> or <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a211602bb89ef98ac607c0c5db44ba2a9" title="Unlink source id from session.">unlink_source()</a>. </dd></dl>

</div>
</div>
<a id="a73a12a975bf01d32f4dac6337a1654de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73a12a975bf01d32f4dac6337a1654de">&#9670;&nbsp;</a></span>link_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="attributes_8h.html#ab05960bfb28f57c187bdf684eac5544f">ROC_ATTR_NODISCARD</a> <a class="el" href="status__code_8h.html#ac0fd1405a63a1f7f643d147e02858ff3">status::StatusCode</a> roc::pipeline::ReceiverSessionRouter::link_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a>&#160;</td>
          <td class="paramname"><em>source_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Link source id with unique CNAME. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Remembers what SSRCs are linked together by sharing the same CNAME. If/when one of the linked SSRCs is associated with a session using <a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html#a57d35698d367858e85e2e4e4529a1a2e" title="Register session in router.">add_session()</a>, all linked SSRCs become being routed to that session. </dd></dl>

</div>
</div>
<a id="a951f5b8327458e57d3f4f936e14f3faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951f5b8327458e57d3f4f936e14f3faa">&#9670;&nbsp;</a></span>num_routes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t roc::pipeline::ReceiverSessionRouter::num_routes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get number of know routes. </p>

</div>
</div>
<a id="a9dc7feb332f623c120da24b3c98323e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc7feb332f623c120da24b3c98323e0">&#9670;&nbsp;</a></span>remove_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void roc::pipeline::ReceiverSessionRouter::remove_session </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classroc_1_1core_1_1SharedPtr.html">core::SharedPtr</a>&lt; <a class="el" href="classroc_1_1pipeline_1_1ReceiverSession.html">ReceiverSession</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister session from router. </p>
<dl class="section remark"><dt>Remarks</dt><dd>All associated SSRCs, CNAMEs, and addresses are removed. </dd></dl>

</div>
</div>
<a id="a211602bb89ef98ac607c0c5db44ba2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211602bb89ef98ac607c0c5db44ba2a9">&#9670;&nbsp;</a></span>unlink_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void roc::pipeline::ReceiverSessionRouter::unlink_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceroc_1_1packet.html#a5381615f74a402e3ecba4660fdeea16c">packet::stream_source_t</a>&#160;</td>
          <td class="paramname"><em>source_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlink source id from session. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Removes association of SSRC with session and CNAME. If this was the last SSRC, the whole route is removed. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>roc_pipeline/<a class="el" href="receiver__session__router_8h_source.html">receiver_session_router.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceroc.html">roc</a></li><li class="navelem"><a class="el" href="namespaceroc_1_1pipeline.html">pipeline</a></li><li class="navelem"><a class="el" href="classroc_1_1pipeline_1_1ReceiverSessionRouter.html">ReceiverSessionRouter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
